datasource db {
  url      = env("DATABASE_URL")
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id               String     @id @default(uuid())
  role             Role       @default(USER)
  username         String     @unique
  password         String
  email            String?    @unique
  fullName         String
  shortName        String
  birthLocation    Json?
  currentLocation  Json?
  deathLocation    Json?
  marriageLocation Json?
  dateOfBirth      DateTime?
  dateOfDeath      DateTime?
  dateOfMarriage   DateTime?
  createdAt        DateTime   @default(now())
  updatedAt        DateTime   @updatedAt
  parent_id        String?
  parent           User?      @relation("ParentChildren", fields: [parent_id], references: [id])
  children         User[]     @relation("ParentChildren")
  partner_id       String?
  partner          User?      @relation("UserToUser", fields: [partner_id], references: [id])
  partnerSelf      User?      @relation("UserToUser")
}

enum Role {
  USER
  ADMIN
}
